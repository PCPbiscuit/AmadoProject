{"version":3,"sources":["img/product-img/pro-big-1.jpg","img/product-img/pro-big-2.jpg","img/product-img/pro-big-3.jpg","img/product-img/pro-big-4.jpg","components/pages/product/singleproductarea.jsx"],"names":["module","exports","connect","store","catalog","app","data","cart","isLoading","goods","openChosenDesc","openChosenImg","chosenImg","chosenDesc","recentProduct","sliderImg","dispatch","loadCatalog","updateCart","param","updateCategory","loadChosen","mostRecentProd","sliderImageCount","withRouter","props","match","title","price","category","code","params","map","product","id","categoryName","name","Number","className","aria-label","to","URL","onClick","aria-current","data-ride","index","data-target","data-slide-to","key","src","url","alt","style","height","margin","renderCarouselImage","href","aria-hidden","console","log","user","renderReview","type","value","e","find","elem","currentTarget","getAttribute","push","amount","image","localStorage","setItem","JSON","stringify"],"mappings":"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","file":"static/js/3.c6203a89.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pro-big-1.dbffe2bf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pro-big-2.4c1f54df.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pro-big-3.b0a32507.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pro-big-4.1ea8966c.jpg\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Spinner from \"../../spinner/spinner\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as URL from \"../../../router/url.js\";\r\nimport {\r\n  loadCatalog,\r\n  loadChosen,\r\n  updateCart,\r\n  mostRecentProd,\r\n  sliderImageCount,\r\n  updateCategory,\r\n} from \"../../../store/action_creators\";\r\nimport { withRouter } from \"react-router\";\r\nimport bigImg1 from \"../../../img/product-img/pro-big-1.jpg\";\r\nimport bigImg2 from \"../../../img/product-img/pro-big-2.jpg\";\r\nimport bigImg3 from \"../../../img/product-img/pro-big-3.jpg\";\r\nimport bigImg4 from \"../../../img/product-img/pro-big-4.jpg\";\r\n\r\nSingleproductarea.propTypes = {\r\n  catalog: PropTypes.array,\r\n  isLoading: PropTypes.bool,\r\n  openChosenDesc: PropTypes.bool,\r\n  openChosenImg: PropTypes.bool,\r\n  chosenImg: PropTypes.array,\r\n  chosenDesc: PropTypes.array,\r\n  sliderImg: PropTypes.string,\r\n  recentProduct: PropTypes.string,\r\n  cart: PropTypes.array,\r\n  updateCart: PropTypes.func,\r\n  sliderImageCount: PropTypes.func,\r\n  loadChosen: PropTypes.func,\r\n  mostRecentProd: PropTypes.func,\r\n  updateCategory: PropTypes.func,\r\n};\r\n\r\nfunction Singleproductarea(props) {\r\n  const {\r\n    catalog,\r\n    isLoading,\r\n    chosenImg,\r\n    chosenDesc,\r\n    sliderImg,\r\n    cart,\r\n    updateCart,\r\n    sliderImageCount,\r\n    loadChosen,\r\n    match,\r\n    recentProduct,\r\n    mostRecentProd,\r\n    openChosenDesc,\r\n    openChosenImg,\r\n    updateCategory,\r\n  } = props;\r\n  if (openChosenDesc || openChosenImg) {\r\n    return <Spinner />;\r\n  }\r\n  let categoriesList = [\r\n    {\r\n      id: 1,\r\n      name: \"Tables\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Chairs\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Seats\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Couches\",\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"Lamps\",\r\n    },\r\n  ];\r\n\r\n\r\n  let code = match.params.code;\r\n  function renderSingleImage() {\r\n    return chosenImg.map((product, index) => {\r\n      if (index === Number(sliderImg)) {\r\n        return (\r\n          <div className=\"carousel-item active\" key={index}>\r\n            <img\r\n              className=\"d-block w-100\"\r\n              src={`http://test-api.ipromote.ru/img/${product.url}`}\r\n              alt=\"Third slide\"\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  let title;\r\n  let price;\r\n  let category;\r\n  \r\n  prodMeta();\r\n  function prodMeta() {\r\n    return catalog.map((product) => {\r\n      if (code == product.id) {\r\n        title = product.title;\r\n        price = product.price;\r\n        category = product.category\r\n      }\r\n    });\r\n  }\r\n  let categoryName = categoriesList[Number(category) -1 ].name\r\n\r\n  function addToCart(e) {\r\n    // console.log('CARTHANDLER === ',e.currentTarget.getAttribute('name'))\r\n    if (\r\n      !cart.find((elem) => elem.id === e.currentTarget.getAttribute(\"name\"))\r\n    ) {\r\n      let id = e.currentTarget.getAttribute(\"name\");\r\n    //   let image = e.currentTarget.getAttribute(\"imagesrc\");\r\n      cart.push({\r\n        id: id,\r\n        price: price,\r\n        amount: 1,\r\n        image: chosenImg[0].url,\r\n        title: title,\r\n      });\r\n      updateCart(cart);\r\n      localStorage.setItem(\"local\", JSON.stringify(cart));\r\n    // console.log(cart, '==CART==')\r\n    } else {\r\n      console.log(\"ТАКОЙ ТОВАР СУЩЕСТВУЕТ\");\r\n    }\r\n  }\r\n\r\n  function renderCarouselImage() {\r\n      if(chosenImg){\r\n    return chosenImg.map((product, index) => {\r\n      return (\r\n        <li\r\n          className={index === Number(sliderImg) ? \"active\" : \"\"}\r\n          data-target=\"#product_details_slider\"\r\n          data-slide-to=\"0\"\r\n          onClick={() => sliderImageCount(index)}\r\n          key={index}\r\n        >\r\n          <img\r\n            className=\"d-block\"\r\n            src={`http://test-api.ipromote.ru/img/${product.url}`}\r\n            alt=\"\"\r\n            style={{ height: \"100%\", margin: \"auto\" }}\r\n          />\r\n        </li>\r\n      );\r\n    });\r\n  }}\r\n  \r\n\r\n  function renderReview() {\r\n    console.log(chosenDesc, \"==CHOSENDESC\");\r\n    if (chosenDesc) {\r\n      return chosenDesc.map((product, index) => {\r\n        return (\r\n          <div className=\"short_overview my-5\" key= {index}>\r\n            <p>{product.title}</p>\r\n            <h6>{product.user}</h6>\r\n            \r\n          </div>\r\n        );\r\n      });\r\n    }\r\n    //\r\n  }\r\n\r\n  if (recentProduct !== code) {\r\n    loadChosen(code);\r\n    mostRecentProd(code);\r\n  }\r\n  if (!chosenImg && !chosenDesc) {\r\n    return <>такого товара не существует</>;\r\n  } else {\r\n    return (\r\n      <div className=\"single-product-area section-padding-100 clearfix\">\r\n        <div className=\"container-fluid\">\r\n          {/* breadcrumbs */}\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <nav aria-label=\"breadcrumb\">\r\n                <ol className=\"breadcrumb mt-50\">\r\n                  <li className=\"breadcrumb-item\">\r\n                    <Link to= {`${URL.HOME}`}>Home</Link>\r\n                  </li>\r\n                  <li className=\"breadcrumb-item\">\r\n                    <Link to={`${URL.SHOP}`} >Furniture</Link>\r\n                  </li>\r\n                  <li className=\"breadcrumb-item\">\r\n                    <Link to={`${URL.SHOP}`} onClick={()=>updateCategory(category)}>{categoryName}</Link>\r\n                  </li>\r\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                    {title}\r\n                  </li>\r\n                </ol>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n\r\n          {/* //singleproduct */}\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-lg-7\">\r\n              <div className=\"single_product_thumb\">\r\n                <div\r\n                  id=\"product_details_slider\"\r\n                  className=\"carousel slide\"\r\n                  data-ride=\"carousel\"\r\n                >\r\n                  <ol className=\"carousel-indicators\">\r\n                    {renderCarouselImage()}\r\n                  </ol>\r\n\r\n                  <div className=\"carousel-inner\">{renderSingleImage()}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* productdesc */}\r\n            <div className=\"col-12 col-lg-5\">\r\n              <div className=\"single_product_desc\">\r\n                <div className=\"product-meta-data\">\r\n                  <div className=\"line\"></div>\r\n                  <p className=\"product-price\">${price}</p>\r\n                  <a href=\"product-details.html\">\r\n                    <h6>{title}</h6>\r\n                  </a>\r\n                  <div className=\"ratings-review mb-15 d-flex align-items-center justify-content-between\">\r\n                    <div className=\"ratings\">\r\n                      <i className=\"fa fa-star\" aria-hidden=\"true\"></i>\r\n                      <i className=\"fa fa-star\" aria-hidden=\"true\"></i>\r\n                      <i className=\"fa fa-star\" aria-hidden=\"true\"></i>\r\n                      <i className=\"fa fa-star\" aria-hidden=\"true\"></i>\r\n                      <i className=\"fa fa-star\" aria-hidden=\"true\"></i>\r\n                    </div>\r\n                    <div className=\"review\">\r\n                      <a href=\"#\">Write A Review</a>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"avaibility\">\r\n                    <i className=\"fa fa-circle\"></i> In Stock\r\n                  </p>\r\n                </div>\r\n                {renderReview()}\r\n\r\n                {/* addtocart */}\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    value=\"5\"\r\n                    name={code}\r\n                    onClick={addToCart}\r\n                    className=\"btn amado-btn\"\r\n                  >\r\n                    Add to cart\r\n                  </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    catalog: store.app.catalog.data,\r\n    cart: store.app.cart,\r\n    isLoading: store.app.isLoading.goods || false,\r\n    openChosenDesc: store.app.isLoading.goods || false,\r\n    openChosenImg: store.app.isLoading.goods || false,\r\n    chosenImg: store.app.chosenImg.data,\r\n    chosenDesc: store.app.chosenDesc.data,\r\n    recentProduct: store.app.recentProduct,\r\n    sliderImg: store.app.sliderImg,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    loadCatalog: () => dispatch(loadCatalog()),\r\n    updateCart: (param) => dispatch(updateCart(param)),\r\n    updateCategory: (param) => dispatch(updateCategory(param)),\r\n    loadChosen: (param) => dispatch(loadChosen(param)),\r\n    mostRecentProd: (param) => dispatch(mostRecentProd(param)),\r\n    sliderImageCount: (param) => dispatch(sliderImageCount(param)),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(Singleproductarea));\r\n"],"sourceRoot":""}